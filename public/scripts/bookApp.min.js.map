{"version":3,"file":"bookApp.min.js","sources":["bookApp.js"],"names":["CurrentUserObject","this","currentUserId","currentUserName","currentUserBooks","sortBooksByStack","list","i","length","stack","sortNumber","sortedList","_","sortBy","item","filterByStack","booksList","filteredList","filter","book","currentStackList","recentStackList","futureStackList","BooksObject","$http","getAllUserBooks","userId","callback","post","id","success","data","error","getUserBook","title","get","addBook","author","color","updateBook","updateKey","updateValue","status","deleteBook","setBookColor","randomColor","random","PostObject","allPosts","getPosts","authorId","addPost","newPost","addReply","newReply","DragDropObject","currentUserServices","bookServices","makeDroppable","$","droppable","tolerance","makeDraggable","draggable","revert","cursor","contain","updatesOnDrop","e","ui","dropElemId","droppedBookElem","oldStack","newStack","bookTitle","hasClass","css","find","text","trim","effect","remove","index","index2","splice","j","self","setTimeout","splicedBook","push","bookApp","angular","module","service","controller","$scope","currentUser","init","_id","userName","books","$modal","open","route","templateUrl","scope","bookLover","email","password","newBookLover","directive","require","link","elem","attrs","ctrl","bind","value","val","$setValidity","removeClass","addClass","isTaken","invalidChars","formStatus","formOpen","dragDropServices","submit","$event","preventDefault","err","newBook","updateStack","cancel","library","recentStack","$watch","document","on","currentStack","futureStack","items","slice","reverse","postServices","subject","body","reset","unshift","$close","postsDisplay","loadPosts","posts","isEmpty","postId","replyUserName","timestamp","Date","reply","postToUpdate","len","replies"],"mappings":"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"}